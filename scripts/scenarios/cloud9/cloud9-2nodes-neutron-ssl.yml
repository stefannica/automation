---
proposals:
- barclamp: database
  attributes:
    mysql:
      ssl:
        enabled: true
        generate_certs: true
        insecure: true
  deployment:
    elements:
      database-server:
      - @@controller@@
- barclamp: rabbitmq
  attributes:
    ssl:
      enabled: true
      generate_certs: true
      insecure: true
    client:
      enable_notifications: true
  deployment:
    elements:
      rabbitmq-server:
      - @@controller@@
- barclamp: keystone
  attributes:
    ssl:
      generate_certs: true
      insecure: true
    api:
      protocol: https
      region: 'CustomRegion'
  deployment:
    elements:
      keystone-server:
      - @@controller@@
- barclamp: glance
  attributes:
    api:
      protocol: https
    ssl:
      generate_certs: true
      insecure: true
  deployment:
    elements:
      glance-server:
      - @@controller@@
- barclamp: cinder
  attributes:
    api:
      protocol: https
    ssl:
      generate_certs: true
      insecure: true
    volumes:
    - backend_driver: local
      backend_name: default
      raw:
        volume_name: cinder-volumes
        cinder_raw_method: first
      local:
        volume_name: cinder-volumes
        file_name: "/var/lib/cinder/volume.raw"
        file_size: 2000
  deployment:
    elements:
      cinder-controller:
      - @@controller@@
      cinder-volume:
      - @@compute-kvm@@
      - @@controller@@
- barclamp: neutron
  attributes:
    ml2_type_drivers:
    - gre
    - vxlan
    - vlan
    ssl:
      generate_certs: true
      insecure: true
    api:
      protocol: https
  deployment:
    elements:
      neutron-server:
      - @@controller@@
      neutron-network:
      - @@controller@@
- barclamp: nova
  attributes:
    itxt_instance: ''
    use_migration: true
    metadata:
      vendordata:
        json: '{"custom-key": "custom-value"}'
    ssl:
      enabled: true
      generate_certs: true
      insecure: true
    ec2-api:
      ssl:
        enabled: true
        generate_certs: true
        insecure: true
    novnc:
      ssl:
        enabled: true
  deployment:
    elements:
      ec2-api:
      - @@controller@@
      nova-controller:
      - @@controller@@
      nova-compute-hyperv: []
      nova-compute-kvm:
      - @@compute-kvm@@
      nova-compute-qemu: []
      nova-compute-xen: []
- barclamp: tempest
  attributes:
  deployment:
    elements:
      tempest:
      - @@controller@@
